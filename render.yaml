services:
  - type: web
    name: projetdjango-web
    env: docker
    plan: free
    repo: https://github.com/Thawfik/PPE-301-ARADJO-CREPIN-ET-AYANA-THAWFIK.git
    branch: master
    buildCommand: "docker build -t projetdjango-web ."
    runCommand: "gunicorn PPE301.wsgi:application --bind 0.0.0.0:8000"
    dockerfile: Dockerfile
    region: frankfurt
    envVars:
      - key: DEBUG
        value: "False"
      - key: SECRET_KEY
        generateValue: true
      - key: DATABASE_URL
        fromDatabase:
          name: immobilier-db
          property: connectionString

databases:
  - name: immobilier-db
    databaseName: immobilier_app
    user: immobilier_user
    plan: free
